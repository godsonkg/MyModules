#!name=æµåª’ä½“è§£é”æ£€æµ‹Â·Smart ç‰ˆï¼ˆä¿®æ­£ç‰ˆï¼‰
#!desc=è‡ªåŠ¨æ£€æµ‹å€™é€‰ç­–ç•¥/åœ°åŒºç»„çš„ Netflix / Disney+ / YouTube Premium è§£é”æƒ…å†µï¼›æ”¯æŒä¸€é”®å†™å…¥åˆ°é€‰æ‹©ç»„è¿›è¡Œâ€œé”å®šåœ°åŒºâ€
#!author=godsonkg
#!category=Streaming
#!icon=play.tv.fill

[Panel]
# ä¸‰ä¸ªé¢æ¿åˆ†åˆ«æ£€æµ‹ NF / Disney+ / YouTube Premium
NF è§£é”æ£€æµ‹ = script-name=unlock_probe, update-interval=1800
Disney+ è§£é”æ£€æµ‹ = script-name=unlock_probe, update-interval=1800, argument=target=disney
YouTube Premium è§£é”æ£€æµ‹ = script-name=unlock_probe, update-interval=1800, argument=target=yt

[Script]
# æ£€æµ‹è„šæœ¬ï¼ˆå·²ç»æ”¾åœ¨ä½ çš„ä»“åº“ MyModules/Scripts ä¸‹ï¼‰
# candidates ç”¨â€œ|â€åˆ†éš”ï¼›ä¹Ÿå¯ä»¥ç›´æ¥å¡«å…·ä½“èŠ‚ç‚¹åï¼ˆä¸æ˜¯ç»„åä¹Ÿè¡Œï¼‰
unlock_probe = type=generic,timeout=6,script-path=https://raw.githubusercontent.com/godsonkg/MyModules/main/Scripts/unlock_probe.js,argument=candidates=ğŸ‡ºğŸ‡¸ç¾å›½å€™é€‰|ğŸ‡¯ğŸ‡µæ—¥æœ¬å€™é€‰|ğŸ‡­ğŸ‡°é¦™æ¸¯å€™é€‰&concurrency=2&target=nf&timeout=6,script-update-interval=86400

[Proxy Group]
# â€”â€” å®‰å…¨å…œåº•ï¼šå¦‚æœ smart æ²¡åŒ¹é…åˆ°ä»»ä½•èŠ‚ç‚¹ï¼Œå°±ä¸è¦èµ° DIRECTï¼Œç›´æ¥æ‹’ç»ï¼Œé¿å…â€œç›´è¿â€è¯¯åˆ¤ä¸ºä¸å¯ç”¨ â€”â€”
ğŸš«æ— åŒ¹é… = reject

# â€”â€” å€™é€‰åœ°åŒºç»„ï¼šç”¨ Smart ä»æœºåœºè®¢é˜…é‡Œè‡ªåŠ¨ç­›é€‰èŠ‚ç‚¹ï¼ˆæŒ‰ä½ çš„èŠ‚ç‚¹å‘½åä¹ æƒ¯å¯è‡ªè¡Œè°ƒæ•´æ­£åˆ™ï¼‰ â€”â€”
ğŸ‡ºğŸ‡¸ç¾å›½å€™é€‰ = smart, \
 policy-regex-filter=(?i)(\bUS\b|USA|United.?States|America|ç¾.?å›½|æ´›æ‰çŸ¶|åœ£ä½•å¡|èŠåŠ å“¥|è¾¾æ‹‰æ–¯|ç¡…è°·|è¥¿é›…å›¾|LAX|SJC), \
 interval=600, tolerance=100, timeout=5, final-policy=ğŸš«æ— åŒ¹é…

ğŸ‡¯ğŸ‡µæ—¥æœ¬å€™é€‰ = smart, \
 policy-regex-filter=(?i)(\bJP\b|Japan|æ—¥æœ¬|ä¸œäº¬|å¤§é˜ª|åƒå¶|åŸ¼ç‰|Tokyo|Osaka|TYO|KIX), \
 interval=600, tolerance=100, timeout=5, final-policy=ğŸš«æ— åŒ¹é…

ğŸ‡­ğŸ‡°é¦™æ¸¯å€™é€‰ = smart, \
 policy-regex-filter=(?i)(\bHK\b|Hong.?Kong|é¦™æ¸¯|é“œé”£æ¹¾|ä¸­ç¯|æ²™ç”°|å°†å†›æ¾³|HKG), \
 interval=600, tolerance=100, timeout=5, final-policy=ğŸš«æ— åŒ¹é…

# â€”â€” é€‰æ‹©ç»„ï¼ˆå…³é”®ï¼‰ï¼šä¾›è§„åˆ™å¼•ç”¨ & è„šæœ¬ä¸€é”®å†™å…¥ â€”â€” 
# å…ˆæŠŠä¸‰ä¸ªå€™é€‰ç»„éƒ½åˆ—è¿›æ¥ï¼Œå¦å¤–ç•™ DIRECT æ–¹ä¾¿æ‰‹åŠ¨åˆ‡
NF-é€‰æ‹© = select, ğŸ‡ºğŸ‡¸ç¾å›½å€™é€‰, ğŸ‡¯ğŸ‡µæ—¥æœ¬å€™é€‰, ğŸ‡­ğŸ‡°é¦™æ¸¯å€™é€‰, DIRECT
DISNEY-é€‰æ‹© = select, ğŸ‡ºğŸ‡¸ç¾å›½å€™é€‰, ğŸ‡¯ğŸ‡µæ—¥æœ¬å€™é€‰, ğŸ‡­ğŸ‡°é¦™æ¸¯å€™é€‰, DIRECT
YT-é€‰æ‹© = select, ğŸ‡ºğŸ‡¸ç¾å›½å€™é€‰, ğŸ‡¯ğŸ‡µæ—¥æœ¬å€™é€‰, ğŸ‡­ğŸ‡°é¦™æ¸¯å€™é€‰, DIRECT

[Rule]
# Netflix
DOMAIN-SUFFIX,netflix.com,NF-é€‰æ‹©
DOMAIN-SUFFIX,nflxvideo.net,NF-é€‰æ‹©
DOMAIN-SUFFIX,nflximg.net,NF-é€‰æ‹©
DOMAIN-SUFFIX,nflxso.net,NF-é€‰æ‹©
# Disney+
DOMAIN-SUFFIX,disneyplus.com,DISNEY-é€‰æ‹©
DOMAIN-SUFFIX,bamgrid.com,DISNEY-é€‰æ‹©
# YouTube
DOMAIN-SUFFIX,youtube.com,YT-é€‰æ‹©
DOMAIN-SUFFIX,googlevideo.com,YT-é€‰æ‹©
